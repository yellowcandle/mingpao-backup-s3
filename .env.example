# Internet Archive S3 Keys
# Get them from: https://archive.org/account/s3.php
IA_ACCESS_KEY=your_access_key
IA_SECRET_KEY=your_secret_key

# IA Item Identifier Prefix (items will be named prefix-YYYY-MM) -- DON'T CHANGE THIS
IA_IDENTIFIER_PREFIX=mingpao-canada-hk-news

# Archive range (YYYYMMDD)
START_DATE=20190101
END_DATE=20191231

# Parallelism (keep low to avoid IA lock contention - 2-3 recommended)
MAX_WORKERS=2

# Post-upload verification (true/false)
# When enabled, verifies each uploaded file exists on IA before marking as complete
# Note: IA has eventual consistency, verification may take 30+ seconds per file
VERIFY_UPLOADS=false

# Metadata queue buffer size
# Controls how many pending metadata updates can be queued before dropping updates
# Increase for slower IA metadata APIs or larger batch sizes (default: 200)
# Note: Running with METADATA_CATCHUP_MODE can cause queue overflow - consider disabling
# catchup during active archiving runs, or increase this to 5000+ for both
METADATA_QUEUE_SIZE=2000

# Metadata catchup mode (true/false)
# When enabled, scans uploaded files for missing metadata and queues them for background processing
# Useful for recovering from interrupted runs or updating older uploads
# Uses START_DATE and END_DATE to determine which months to scan
# ⚠️  WARNING: Enable ONLY for dedicated catchup passes, not during active archiving
#    Running catchup alongside active uploads can overflow the metadata queue
METADATA_CATCHUP_MODE=false
